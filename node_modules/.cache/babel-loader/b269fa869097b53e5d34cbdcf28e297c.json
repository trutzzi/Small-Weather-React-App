{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\legion\\\\Desktop\\\\weatherapp\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import Weather from'./Weather';// import Transitionlearn from './transitionlearn'\nvar App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));_this.state={api:'//api.openweathermap.org/data/2.5/weather?q=',apiKey:'0c3726306434398464920f4a294015b0',load:false,title:'Weather App',city:'Bucharest',lang:'RO',wheater:'',long:'',lat:'',zoom:19};_this.getWeather=_this.getWeather.bind(_assertThisInitialized(_this));_this.handleInput=_this.handleInput.bind(_assertThisInitialized(_this));_this.fetchData=_this.fetchData.bind(_assertThisInitialized(_this));_this.onViewportChanged=_this.onViewportChanged.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"fetchData\",value:function(){var _fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(mod){var request,response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(mod===2){request=this.state.api+'&appid='+this.state.apiKey+'&lang='+this.state.lang+'&lon='+this.state.long+'&lat='+this.state.lat;}else{request=this.state.api+this.state.city+'&appid='+this.state.apiKey+'&lang='+this.state.lang;}_context.next=3;return fetch(request);case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;if(json.cod===200){this.setState({weather:json,load:true});}else{alert(\"COD:\"+json.cod+'\\n'+json.message);}case 8:case\"end\":return _context.stop();}}},_callee,this);}));function fetchData(_x){return _fetchData.apply(this,arguments);}return fetchData;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData(1);}},{key:\"getWeather\",value:function getWeather(){this.fetchData(1);}},{key:\"handleInput\",value:function handleInput(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"onViewportChanged\",value:function onViewportChanged(viewport){var center=viewport.center,zoom=viewport.zoom;var _center=_slicedToArray(center,2),lat=_center[0],long=_center[1];this.setState({lat:lat,long:long,zoom:zoom});this.fetchData(2);}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"app\"},React.createElement(\"div\",{className:\"header\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h1\",null,this.state.title),React.createElement(\"p\",null,\"Powered by OpenWeather & T.Valentin\"),React.createElement(\"select\",{onChange:this.handleInput,name:\"lang\"},React.createElement(\"option\",{value:\"RO\"},\"Romana\"),React.createElement(\"option\",{value:\"EN\"},\"English\"),React.createElement(\"option\",{value:\"RU\"},\"Russian\")))),React.createElement(\"div\",{className:\"body\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"label\",{htmlFor:\"city\"}),React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"div\",{className:\"grid\"},React.createElement(\"div\",{className:\"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 bycoord\"},React.createElement(\"h2\",null,\"By coordonate\"),React.createElement(\"label\",{htmlFor:\"lat\"},React.createElement(\"input\",{placeholder:\"lat\",type:\"number\",id:\"lat\",name:\"lat\",onChange:this.handleInput,min:\"1\"})),React.createElement(\"label\",{htmlFor:\"long\"},React.createElement(\"input\",{placeholder:\"long\",type:\"number\",id:\"long\",onChange:this.handleInput,name:\"long\",min:\"1\"})),React.createElement(\"button\",{onClick:function onClick(){return _this2.fetchData(2);}},\"Set\")),React.createElement(\"div\",{className:\"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 byname\"},React.createElement(\"h2\",null,\"By city name\"),React.createElement(\"input\",{onChange:function onChange(e){return _this2.handleInput(e);},placeholder:\"City\",id:\"city\",name:\"city\",type:\"text\"}),React.createElement(\"button\",{onClick:this.getWeather},\"Set\")))),this.state.load?React.createElement(Weather,{view:this.onViewportChanged,zoom:this.state.zoom,weather:this.state.weather,city:this.state.city}):'')),React.createElement(\"div\",{className:\"footer\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"h3\",null,\"Weather App v1 \\xA9 T.Valentin\"))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/legion/Desktop/weatherapp/src/App.js"],"names":["React","Weather","App","state","api","apiKey","load","title","city","lang","wheater","long","lat","zoom","getWeather","bind","handleInput","fetchData","onViewportChanged","mod","request","fetch","response","json","cod","setState","weather","alert","message","e","target","name","value","viewport","center","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Weather from './Weather'\n// import Transitionlearn from './transitionlearn'\nclass App extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            api: '//api.openweathermap.org/data/2.5/weather?q=',\n            apiKey: '0c3726306434398464920f4a294015b0',\n            load: false,\n            title: 'Weather App',\n            city: 'Bucharest',\n            lang: 'RO',\n            wheater: '',\n            long: '',\n            lat: '',\n            zoom: 19,\n        }\n        this.getWeather = this.getWeather.bind(this)\n        this.handleInput = this.handleInput.bind(this)\n        this.fetchData = this.fetchData.bind(this)\n        this.onViewportChanged = this.onViewportChanged.bind(this)\n    }\n    async fetchData(mod) {\n        let request\n        if (mod === 2) {\n            request = (this.state.api + '&appid=' + this.state.apiKey + '&lang=' + this.state.lang + '&lon=' + this.state.long + '&lat=' + this.state.lat)\n        } else {\n            request = (this.state.api + this.state.city + '&appid=' + this.state.apiKey + '&lang=' + this.state.lang)\n        }\n        const response = await fetch(request)\n        const json = await response.json();\n        if (json.cod === 200) {\n            this.setState({\n                weather: json,\n                load: true\n            })\n        } else {\n            alert(\"COD:\" + json.cod + '\\n' + json.message)\n        }\n    }\n    componentDidMount() {\n        this.fetchData(1);\n    }\n    getWeather() {\n        this.fetchData(1);\n    }\n    handleInput(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    onViewportChanged(viewport) {\n        let { center, zoom } = viewport\n        let [lat, long] = center\n        this.setState({\n            lat: lat,\n            long: long,\n            zoom: zoom\n        })\n        this.fetchData(2)\n    }\n    render() {\n        return (\n            <div className=\"app\">\n                <div className=\"header\">\n                    <div className=\"container\">\n                        <h1>{this.state.title}</h1>\n                        <p>Powered by OpenWeather & T.Valentin</p>\n                        <select onChange={this.handleInput} name=\"lang\">\n                            <option value=\"RO\">Romana</option>\n                            <option value=\"EN\">English</option>\n                            <option value=\"RU\">Russian</option>\n                        </select>\n                    </div>\n                </div>\n                <div className=\"body\">\n                    <div className=\"container\">\n                        <label htmlFor=\"city\">\n                        </label>\n                        <div className=\"wrapper\">\n                            <div className=\"grid\">\n                                <div className=\"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 bycoord\">\n                                    <h2>By coordonate</h2>\n                                    <label htmlFor=\"lat\"><input placeholder=\"lat\" type=\"number\" id=\"lat\" name=\"lat\" onChange={this.handleInput} min=\"1\" /></label>\n                                    <label htmlFor=\"long\"><input placeholder=\"long\" type=\"number\" id=\"long\" onChange={this.handleInput} name=\"long\" min=\"1\" /></label>\n                                    <button onClick={() => this.fetchData(2)}>Set</button>\n                                </div>\n                                <div className=\"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 byname\">\n                                    <h2>By city name</h2>\n                                    <input onChange={(e) => this.handleInput(e)} placeholder=\"City\" id=\"city\" name=\"city\" type=\"text\" />\n                                    <button onClick={this.getWeather}>Set</button>\n                                </div>\n                            </div>\n                        </div>\n                        {this.state.load ? <Weather view={this.onViewportChanged} zoom={this.state.zoom} weather={this.state.weather} city={this.state.city} /> : ''}\n                    </div>\n                </div>\n                <div className=\"footer\">\n                    <div className=\"container\">\n                        <h3>Weather App v1 © T.Valentin</h3>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}