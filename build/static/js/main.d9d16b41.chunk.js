(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},28:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),i=(a(26),a(20)),o=a(3),s=a(14),m=a.n(s),h=a(18),u=a(6),p=a(8),d=a(10),E=a(9),g=a(2),f=a(11),v=(a(28),a(35)),y=a(34),b=(a(29),a(15));var _=function(e){var t=Object(b.b)({from:{opacity:0},opacity:1}),a=e.coord,n=[a.lat,a.lon];return l.a.createElement(b.a.div,{style:t,className:"themap"},l.a.createElement(v.a,{center:n,zoom:e.zoom,style:{width:"100%",height:"100%"},onViewportChanged:function(t){return e.view(t)}},l.a.createElement(y.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"})),l.a.createElement("p",null,"Move the map to search weather by area"))};var w=function(e){var t=e.weather,a=t.weather,n=t.coord,r=t.main;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"grid details"},l.a.createElement("div",{className:"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 detail1"},l.a.createElement("h3",null,l.a.createElement("span",{className:"icon icon-location"}),e.weather.name),l.a.createElement("p",null,"Showing weather for ",e.weather.name),l.a.createElement("h4",null,a[0].main),l.a.createElement("p",null,a[0].description),l.a.createElement("p",null,"Coord: ",l.a.createElement("br",null)," Lon ",n.lon," and Lat ",n.lat)),l.a.createElement("div",{className:"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 detail2"},l.a.createElement("h3",null,l.a.createElement("span",{className:"icon icon-temp"}),"Temperatures"),l.a.createElement("p",null,"Main ",r.temp," ",l.a.createElement("small",{className:"celsius"},"C")),l.a.createElement("p",null,"Max ",r.temp_max," ",l.a.createElement("small",{className:"celsius"},"C")),l.a.createElement("p",null,"Min ",r.temp_min,l.a.createElement("small",{className:"celsius"},"C")," "),l.a.createElement("p",null,"Feels like ",r.temp_min," ",l.a.createElement("small",{className:"celsius"},"C")," "),l.a.createElement("p",null,"Humidity ",r.humidity,"% "))),l.a.createElement(_,{zoom:e.zoom,view:e.view,coord:n}))},N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(E.a)(t).call(this))).state={api:"//api.openweathermap.org/data/2.5/weather?q=",apiKey:"0c3726306434398464920f4a294015b0",load:!1,title:"Weather App",city:"Bucharest",lang:"RO",wheater:"",long:"",lat:"",zoom:19},e.getWeather=e.getWeather.bind(Object(g.a)(e)),e.handleInput=e.handleInput.bind(Object(g.a)(e)),e.fetchData=e.fetchData.bind(Object(g.a)(e)),e.onViewportChanged=e.onViewportChanged.bind(Object(g.a)(e)),e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"fetchData",value:function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=2===t?this.state.api+"&appid="+this.state.apiKey+"&lang="+this.state.lang+"&lon="+this.state.long+"&lat="+this.state.lat+"&units=metric":this.state.api+this.state.city+"&appid="+this.state.apiKey+"&lang="+this.state.lang+"&units=metric",e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:200===(l=e.sent).cod?this.setState({weather:l,load:!0}):alert("COD:"+l.cod+"\n"+l.message);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData(1)}},{key:"getWeather",value:function(){this.fetchData(1)}},{key:"handleInput",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"onViewportChanged",value:function(e){var t=e.center,a=e.zoom,n=Object(i.a)(t,2),l=n[0],r=n[1];this.setState({lat:l,long:r,zoom:a}),this.fetchData(2)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,this.state.title),l.a.createElement("p",null,"Powered by OpenWeather & T.Valentin"),l.a.createElement("select",{onChange:this.handleInput,name:"lang"},l.a.createElement("option",{value:"RO"},"Romana"),l.a.createElement("option",{value:"EN"},"English"),l.a.createElement("option",{value:"RU"},"Russian")))),l.a.createElement("div",{className:"body"},l.a.createElement("div",{className:"container"},l.a.createElement("label",{htmlFor:"city"}),l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"grid"},l.a.createElement("div",{className:"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 bycoord"},l.a.createElement("h2",null,"By coordonate"),l.a.createElement("label",{htmlFor:"lat"},l.a.createElement("input",{placeholder:"lat",type:"number",id:"lat",name:"lat",onChange:this.handleInput,min:"1"})),l.a.createElement("label",{htmlFor:"long"},l.a.createElement("input",{placeholder:"long",type:"number",id:"long",onChange:this.handleInput,name:"long",min:"1"})),l.a.createElement("button",{onClick:function(){return e.fetchData(2)}},"Set")),l.a.createElement("div",{className:"grid__col grid__col--1-of-2 grid__col--xl-1-of-1 grid__col--m-1-of-1 byname"},l.a.createElement("h2",null,"By city name"),l.a.createElement("input",{onChange:function(t){return e.handleInput(t)},placeholder:"City",id:"city",name:"city",type:"text"}),l.a.createElement("button",{onClick:this.getWeather},"Set")))),this.state.load?l.a.createElement(w,{view:this.onViewportChanged,zoom:this.state.zoom,weather:this.state.weather,city:this.state.city}):"")),l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"Weather App v1 \xa9 T.Valentin"))))}}]),t}(l.a.Component);c.a.render(l.a.createElement(N,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.d9d16b41.chunk.js.map